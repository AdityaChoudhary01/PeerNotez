[[redirects]]
  # ðŸ’¡ FIX: CRITICAL. You must specify the 'from' path.
  # This intercepts all requests that start with /api/
  from = "/api/*" 
  
  # The 'to' field uses your full ENV variable URL and appends the rest of the path.
  # Example: /api/notes/123 -> https://peernotez.onrender.com/api/notes/123
  to = "${REACT_APP_API_URL}/:splat" 
  
  status = 200
  force = true 


[[redirects]]
  from = "/sitemap-dynamic.xml"
  to = "https://peernotez.onrender.com/sitemap-dynamic.xml"
  status = 200
  force = true # Critical: Ensures the redirect happens even if a file exists
# =======================================================
# 2. STATIC SITEMAP/ROBOTS (Optional, but kept for legacy)
# =======================================================
# If you have a static sitemap.xml file, you can keep it simple:
[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap.xml"
  status = 200

# =======================================================
# 3. SINGLE PAGE APPLICATION (SPA) FALLBACK (MUST BE LAST)
# =======================================================
# This catches all other routes and directs them to React's index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
