[[redirects]]
  # This captures the relative '/api' path from your frontend code
  from = "/api/*"
  # IMPORTANT: Use your hardcoded Render URL (or ENV var if you prefer that method)
  to = "https://peernotez.onrender.com/api/:splat" 
  status = 200
  force = true


[[redirects]]
  from = "/sitemap-dynamic.xml"
  to = "https://peernotez.onrender.com/sitemap-dynamic.xml"
  status = 200
  force = true # Critical: Ensures the redirect happens even if a file exists
# =======================================================
# 2. STATIC SITEMAP/ROBOTS (Optional, but kept for legacy)
# =======================================================
# If you have a static sitemap.xml file, you can keep it simple:
[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap.xml"
  status = 200

# =======================================================
# 3. SINGLE PAGE APPLICATION (SPA) FALLBACK (MUST BE LAST)
# =======================================================
# This catches all other routes and directs them to React's index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
